@require '../../vars'

$requireVerifiedZIndex = 900

.z-conversation-input
  height: 86px // 188px
  display: flex
  flex-direction: column
  justify-content: flex-end
  pointer-events: none
  position: relative
  overflow: hidden

  > .locked
    position: absolute
    z-index: $requireVerifiedZIndex
    top: 0
    left: 0
    width: 100%
    height: 100%
    background: getColor('$black87')
    display: flex
    align-items: center
    justify-content: center
    text-align: center
    flex-direction: column

  > .panel
    transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1)
    background: getColor('$tertiary500')
    box-shadow: 0 1px 4px getColor('$black26')
    flex: 1
    max-height: 150px // also in conversation_input_textarea
    position: relative
    pointer-events: all
    margin-bottom: -100px

    // separate so we can use transform instead of height for perf
    // > .panel-background
    //   transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1)
    //   transform-origin: bottom
    //   position: absolute
    //   bottom: 0
    //   left: 0
    //   width: 100%
    //   height: 54px // base height that transforms are based on
    //   box-shadow: 0 1px 4px getColor('$black26')
    //   background: getColor('$tertiary500')

    > .require-verified
      position: absolute
      z-index: $requireVerifiedZIndex
      top: 0
      left: 0
      width: 100%
      height: 100%
      background: getColor('$black87')
      display: flex
      align-items: center
      justify-content: center
      text-align: center
      flex-direction: column

      > .title
        font-title()

      > .description
        font-body1()

  > .bottom-icons
    height: 36px
    align-items: center
    position: relative
    background: getColor('$tertiary500')
    display: none
    pointer-events: all

    &.is-visible
      display: flex

    > .icon
      position: relative
      width: 48px

      > .upload-overlay
        position: absolute
        left: 0
        top: 0
        width: 100%
        height: 100%
        z-index: 1
        cursor: pointer

    > .powered-by-giphy
      width: 140px
      height: 14px
      margin-left: auto
      margin-right: 8px
      background: url($cdnUrl + '/giphy_horiz.png') no-repeat
      background-size: 100%
      display: none

  &.is-gifs-panel
    > .bottom-icons
      > .powered-by-giphy
        display: block
